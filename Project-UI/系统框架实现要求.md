# LSO物流系统框架实现要求

**文档版本**: v1.0  
**创建日期**: 2025-01-30  
**适用范围**: LSO物流服务平台  
**技术栈**: Next.js 14 + React + TypeScript + Tailwind CSS + shadcn/ui

---

## 一、技术栈要求

### 1.1 核心框架

| 技术 | 版本 | 用途 |
|------|------|------|
| Next.js | 14.x | React框架，支持SSR和SSG |
| React | 18.x | UI组件库 |
| TypeScript | 5.x | 类型安全 |
| Tailwind CSS | 3.x | CSS框架 |
| shadcn/ui | Latest | UI组件库 |

### 1.2 UI组件库

- **shadcn/ui**: 基于Radix UI的组件库
- **Lucide React**: 图标库
- **Sonner**: Toast通知组件
- **Recharts**: 图表库

### 1.3 国际化

- **自定义i18n系统**: 基于Context API
- **支持语言**: 中文(zh)、英文(en)
- **实时切换**: 无需刷新页面

---

## 二、项目结构

### 2.1 目录结构

```
LSO/
├── app/                          # Next.js App Router
│   ├── layout.tsx               # 根布局
│   ├── page.tsx                 # 营销首页
│   ├── globals.css              # 全局样式
│   ├── dashboard/               # 仪表板模块（内部管理）
│   ├── services/                # 服务介绍
│   ├── tracking/                # 货物追踪
│   ├── shipping/                # 寄件服务
│   │   ├── ship-now/           # 立即寄件
│   │   ├── account/            # 账户寄件
│   │   ├── pickup/             # 预约取件
│   │   ├── quote/              # 运费计算
│   │   ├── delivery/           # 配送选项
│   │   └── cookie/             # 客户优惠计划
│   ├── quote/                   # 运费查询
│   ├── locations/               # 网点查询
│   ├── support/                 # 客户支持
│   └── contact/                 # 联系我们
│
├── components/                   # 组件目录
│   ├── layout/                  # 布局组件
│   │   ├── main-layout.tsx      # 主布局（顶部导航）
│   │   └── header.tsx           # 双层导航栏
│   ├── ui/                      # shadcn/ui组件
│   │   ├── button.tsx
│   │   ├── input.tsx
│   │   └── ...
│   ├── i18n-provider.tsx        # 国际化Provider
│   └── theme-provider.tsx       # 主题Provider
│
├── lib/                         # 工具库
│   ├── i18n.ts                  # 国际化配置
│   └── utils.ts                 # 工具函数
│
├── Project-UI/                  # UI设计文档
│   ├── AI-Friendly UI Design Guide.md
│   ├── DataTable Design.md
│   ├── Logo Design.md
│   ├── Shadn Colors Design.md
│   ├── Typography Design.md
│   └── 系统框架实现要求.md       # 本文档
│
├── .kiro/                       # Kiro配置
│   └── specs/                   # 规格文档
│       └── lso-system-framework/
│
├── public/                      # 静态资源
│   └── ...
│
├── tailwind.config.ts           # Tailwind配置
├── next.config.mjs              # Next.js配置
├── tsconfig.json                # TypeScript配置
├── package.json                 # 依赖配置
├── README.md                    # 项目说明
└── start-dev.bat                # 开发启动脚本
```

### 2.2 模块划分

#### 前台模块（面向客户）

1. **Home** - 营销首页
   - Hero区域
   - 服务介绍
   - 统计数据
   - CTA行动号召

2. **Services** - 服务介绍
   - 国际快递
   - 海运服务
   - 空运服务
   - 仓储服务
   - 定制物流
   - 供应链管理

3. **Tracking** - 货物追踪
   - 实时追踪
   - 历史记录
   - 批量查询

4. **Shipping** - 寄件服务
   - 立即寄件
   - 账户寄件
   - 预约取件
   - 运费计算
   - 配送选项
   - 客户优惠计划

5. **Quote** - 运费查询
6. **Locations** - 网点查询
7. **Support** - 客户支持

#### 后台模块（内部管理）

1. **Dashboard** - 数据仪表板
2. **Order Management** - 订单管理
3. **Customer Management** - 客户管理
4. **Analytics** - 数据分析

---

## 三、配置文件

### 3.1 Next.js配置 (next.config.mjs)

```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  // 优化开发体验
  experimental: {
    turbo: {
      // 启用 Turbopack (更快的打包器)
    },
  },
  // 减少编译时间
  swcMinify: true,
  // 优化图片
  images: {
    unoptimized: true
  },
  // TypeScript配置
  typescript: {
    ignoreBuildErrors: true,
  },
  // ESLint配置
  eslint: {
    ignoreDuringBuilds: false,
  },
  // 静态页面生成超时
  staticPageGenerationTimeout: 1000,
  // Webpack配置
  webpack: (config, { isServer }) => {
    if (!isServer) {
      config.resolve.fallback = {
        ...config.resolve.fallback,
        fs: false,
        net: false,
        tls: false,
      };
    }
    return config;
  },
};

export default nextConfig;
```

### 3.2 Tailwind配置 (tailwind.config.ts)

```typescript
import type { Config } from "tailwindcss"

const config = {
  darkMode: ["class"],
  content: [
    './pages/**/*.{ts,tsx}',
    './components/**/*.{ts,tsx}',
    './app/**/*.{ts,tsx}',
    './src/**/*.{ts,tsx}',
  ],
  theme: {
    extend: {
      colors: {
        border: "hsl(var(--border))",
        input: "hsl(var(--input))",
        ring: "hsl(var(--ring))",
        background: "hsl(var(--background))",
        foreground: "hsl(var(--foreground))",
        primary: {
          DEFAULT: "hsl(var(--primary))",
          foreground: "hsl(var(--primary-foreground))",
        },
        secondary: {
          DEFAULT: "hsl(var(--secondary))",
          foreground: "hsl(var(--secondary-foreground))",
        },
        destructive: {
          DEFAULT: "hsl(var(--destructive))",
          foreground: "hsl(var(--destructive-foreground))",
        },
        muted: {
          DEFAULT: "hsl(var(--muted))",
          foreground: "hsl(var(--muted-foreground))",
        },
        accent: {
          DEFAULT: "hsl(var(--accent))",
          foreground: "hsl(var(--accent-foreground))",
        },
        popover: {
          DEFAULT: "hsl(var(--popover))",
          foreground: "hsl(var(--popover-foreground))",
        },
        card: {
          DEFAULT: "hsl(var(--card))",
          foreground: "hsl(var(--card-foreground))",
        },
      },
      borderRadius: {
        lg: "var(--radius)",
        md: "calc(var(--radius) - 2px)",
        sm: "calc(var(--radius) - 4px)",
      },
    },
  },
  plugins: [require("tailwindcss-animate")],
} satisfies Config

export default config
```

### 3.3 TypeScript配置 (tsconfig.json)

```json
{
  "compilerOptions": {
    "target": "ES2017",
    "lib": ["dom", "dom.iterable", "esnext"],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": ["./*"]
    }
  },
  "include": ["next-env.d.ts", "**/*.ts", "**/*.tsx", ".next/types/**/*.ts"],
  "exclude": ["node_modules"]
}
```

---

## 四、布局系统

### 4.1 主布局结构

```tsx
// app/layout.tsx
export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="zh" suppressHydrationWarning>
      <body>
        <ThemeProvider>
          <I18nProvider>
            <MainLayout>
              {children}
            </MainLayout>
          </I18nProvider>
        </ThemeProvider>
      </body>
    </html>
  )
}
```

### 4.2 主布局组件

```
┌─────────────────────────────────────────────┐
│ Top Bar (固定顶部 - 12px高)                  │
│ - 语言切换器                                 │
│ - 支持链接                                   │
│ - 联系我们                                   │
│ - 通知                                       │
├─────────────────────────────────────────────┤
│ Main Header (固定顶部 - 16px高)              │
│ - Logo                                      │
│ - 主导航菜单（带下拉）                        │
│ - 搜索                                       │
│ - 注册/登录                                  │
├─────────────────────────────────────────────┤
│                                             │
│ Main Content (滚动区域)                      │
│                                             │
│ - Hero Section                              │
│ - 页面内容                                   │
│ - 卡片布局                                   │
│ - 表单                                       │
│                                             │
└─────────────────────────────────────────────┘
```

### 4.3 导航系统

#### 双层导航结构

**顶部工具栏**
- 语言切换（中文/英文）
- 客户支持
- 联系我们
- 通知中心

**主导航栏**
- Logo（左侧）
- 主菜单（中间）
  - 首页
  - 服务
  - 货物追踪
  - 寄件服务（带下拉菜单）
    - Ship now
    - Ship with account
    - Schedule pickup
    - Calculate rates/quote
    - Delivery Options
    - Customer Cookie Program
  - 运费查询
  - 网点查询
- 操作按钮（右侧）
  - 搜索
  - 注册
  - 登录

#### 导航交互

- **选中状态**: 紫色背景 + 白色文字
- **Hover状态**: 浅灰背景
- **下拉菜单**: 鼠标悬停展开，带阴影和边框
- **响应式**: 移动端显示汉堡菜单

### 4.4 响应式布局

- **桌面端** (≥1024px): 完整导航栏，所有菜单可见
- **平板端** (768px-1023px): 部分菜单收起
- **移动端** (<768px): 汉堡菜单，全屏导航

---

## 五、国际化系统

### 5.1 实现方式

```typescript
// lib/i18n.ts
export const translations = {
  zh: {
    // 中文翻译
    dashboard: '仪表板',
    orders: '订单管理',
    // ...
  },
  en: {
    // 英文翻译
    dashboard: 'Dashboard',
    orders: 'Orders',
    // ...
  }
}

export type Language = 'zh' | 'en'
export type TranslationKey = keyof typeof translations.zh
```

### 5.2 使用方式

```tsx
// 组件中使用
import { useI18n } from '@/components/i18n-provider'

function MyComponent() {
  const { t, language, setLanguage } = useI18n()
  
  return (
    <div>
      <h1>{t('dashboard')}</h1>
      <button onClick={() => setLanguage('en')}>
        Switch to English
      </button>
    </div>
  )
}
```

### 5.3 翻译组织

按模块组织翻译：

```typescript
export const translations = {
  zh: {
    // ==================== 通用 ====================
    actions: '操作',
    status: '状态',
    
    // ==================== 导航和模块 ====================
    dashboard: '仪表板',
    orders: '订单管理',
    
    // ==================== 采购模块 ====================
    purchaseRequest: 'Purchase Request',
    purchaseOrder: 'Purchase Order',
    
    // ==================== 状态 ====================
    draft: '草稿',
    pending: '待审批',
    approved: '已批准',
  },
  en: {
    // 对应的英文翻译
  }
}
```

---

## 六、状态管理

### 6.1 状态管理方案

- **React Context**: 全局状态(主题、语言、用户信息)
- **useState/useReducer**: 组件本地状态
- **URL State**: 筛选、分页等状态

### 6.2 Context Providers

```tsx
// 主题Provider
<ThemeProvider>
  {children}
</ThemeProvider>

// 国际化Provider
<I18nProvider>
  {children}
</I18nProvider>

// 用户Provider (可选)
<UserProvider>
  {children}
</UserProvider>
```

---

## 七、路由规范

### 7.1 路由结构

```
/                           # 营销首页
/services                   # 服务介绍
/tracking                   # 货物追踪
/shipping                   # 寄件服务（重定向到ship-now）
/shipping/ship-now          # 立即寄件
/shipping/account           # 账户寄件
/shipping/pickup            # 预约取件
/shipping/quote             # 运费计算
/shipping/delivery          # 配送选项
/shipping/cookie            # 客户优惠计划
/quote                      # 运费查询
/locations                  # 网点查询
/support                    # 客户支持
/contact                    # 联系我们
/dashboard                  # 内部管理仪表板
```

### 7.2 路由命名规范

- **主页面**: `/module` (如 `/services`)
- **子页面**: `/module/subpage` (如 `/shipping/ship-now`)
- **详情页**: `/module/[id]` (如 `/tracking/[trackingNumber]`)
- **功能页**: `/module/action` (如 `/shipping/pickup`)

### 7.3 页面类型

#### 营销页面
- Hero Section + 内容区域
- 大标题 + 副标题 + CTA按钮
- 卡片式布局
- 渐变背景

#### 功能页面
- 表单为主
- 清晰的步骤指引
- 实时验证
- 友好的错误提示

#### 信息页面
- 内容展示
- 图文结合
- 响应式网格布局

---

## 八、UI设计系统

> **重要**: 所有UI开发必须严格遵循 [AI-Friendly UI Design Guide](./AI-Friendly%20UI%20Design%20Guide.md) 中的设计规范。

### 8.1 设计系统概述

LSO物流系统的UI设计基于 **Item Design System**，确保品牌一致性、专业呈现和跨平台识别度。

**核心原则:**
- 每个交互都应准确反映品牌价值和独特个性
- 使用CSS变量而非硬编码颜色值
- 遵循类型比例，不自创尺寸
- 尊重间距令牌（8px增量）
- 包含深色模式支持
- 优先考虑无障碍访问

### 8.2 色彩系统（基于Item Design System）

#### 品牌色
- **Primary Purple**: #753BBD (主色调) - 创新
- **Accent Orange**: #F97316 (强调色) - 动态活力
- **White**: #FFFFFF (纯净) - 清晰
- **Black**: #000000 (优雅) - 优雅

#### UI主题色（状态）
| 状态 | Light Mode | Dark Mode |
|------|------------|-----------|
| Primary | #753BBD | #763ABF |
| Hover | #9561D0 | #6C38AD |
| Active | #A788E1 | #693f9d |
| Pressed | #5B2D94 | #5c2a9a |

#### 语义色
- **Success**: #15803D (成功/确认) - Light Variant: #DCFCE7
- **Warning**: #e79f04 (警告/注意) - Light Variant: #FEF3C7
- **Danger**: #F0283C (错误/危险) - Light Variant: #FECACA
- **Info**: #666666 (信息/中性) - Light Variant: #DEDFE0

#### 文本色
| 级别 | Light Mode | Dark Mode | 用途 |
|------|------------|-----------|------|
| Primary | #181818 | #ffffff | 标题、重要文本 |
| Regular | #3c3c3c | #ffffff | 正文 |
| Secondary | #666666 | #999999 | 说明、标签 |
| Placeholder | #666666 | #737373 | 输入占位符 |
| Disabled | #6666665d | #7373736d | 禁用元素 |

#### CSS变量使用模式

```css
/* 正确 - 使用语义变量 */
color: hsl(var(--primary));
background: hsl(var(--background));
border: 1px solid hsl(var(--border));

/* 错误 - 避免硬编码 */
background: #753BBD;
```

### 8.3 字体系统

#### 主字体
**Satoshi** - 几何无衬线字体，在专业性和亲和力之间取得平衡

#### 字重
- Light
- Regular
- Medium
- Bold
- Black

#### 类型比例

| 元素 | 尺寸名称 | 像素 | 用例 |
|------|---------|------|------|
| H1 | 9x Large | 128px | Hero标题 |
| H2 | 8x Large | 96px | 页面标题 |
| H3 | 7x Large | 64px | 区块标题 |
| H4 | 6x Large | 48px | 子区块标题 |
| H5 | 5x Large | 36px | 卡片标题 |
| H6 | 4x Large | 28px | 小标题 |
| Subtitle 1 | 3x Large | 24px | 引导段落 |
| Subtitle 2 | 2x Large | 20px | 次要引导 |
| Body 1 | Extra Large | 20px | 大正文 |
| Body 2 | Large | 18px | 标准正文 |
| Base | Base | 16px | 默认文本 |
| Button 1 | Small | 14px | 按钮、标签 |
| Button 2 | Extra Small | 12px | 小标签、说明 |

### 8.4 间距系统

遵循8px基准单位：

| Token | 值 | 用途 |
|-------|-----|------|
| xs | 4px | 紧密间距 |
| sm | 8px | 相关元素 |
| md | 16px | 标准间距 |
| lg | 24px | 区块间距 |
| xl | 32px | 主要区块 |
| 2xl | 48px | 页面区块 |
| 3xl | 64px | Hero区域 |

### 8.5 组件规范

#### 按钮
- **Small**: h-9 px-3 (36px高) - size="sm"
- **Default**: h-10 px-4 (40px高) - 默认
- **Large**: h-12 px-8 (48px高) - size="lg"
- **Icon**: h-9 w-9 (36px) - size="icon"

**按钮变体:**
- Primary: bg-primary text-primary-foreground hover:bg-primary/90
- Outline: border border-input hover:bg-accent
- Ghost: hover:bg-accent hover:text-accent-foreground
- Destructive: bg-destructive text-destructive-foreground

#### 输入框
- **Height**: h-10 (40px)
- **Padding**: px-3 py-2 (12px 8px)
- **Border**: border border-input rounded-md
- **Focus**: focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2

#### 卡片
- **Padding**: p-6 (24px) 或 p-8 (32px)
- **Border**: border border-border
- **Radius**: rounded-lg
- **Hover**: hover:shadow-xl transition-all
- **Background**: bg-card

#### 状态徽章
- **Success**: bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400
- **Warning**: bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400
- **Info**: bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400
- **Danger**: bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400

### 8.6 导航与选择状态

#### 导航菜单
- **Active**: bg-primary text-primary-foreground (紫色背景 + 白色文字)
- **Hover**: hover:bg-accent hover:text-accent-foreground
- **Disabled**: opacity-50 cursor-not-allowed
- **Padding**: px-3 py-2 (12px 8px)
- **Gap**: gap-3 (12px)

#### 标签页
- **Container**: bg-muted p-1 rounded-md
- **Active Tab**: bg-primary text-primary-foreground
- **Inactive Tab**: text-muted-foreground
- **Tab Padding**: px-3 py-1.5 (12px 6px)

### 8.7 无障碍访问要求

#### 焦点状态
- Ring: focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
- Outline: focus-visible:outline-none

#### 交互元素
- 最小触摸目标: 40px (h-10)
- 图标按钮: h-9 w-9 (36px)
- 始终包含 hover 状态

#### 颜色对比度
- 文本与背景: 最小 4.5:1
- 大文本: 最小 3:1
- 交互元素: 最小 3:1

### 8.8 深色模式支持

所有组件必须包含 `.dark` 选择器规则以实现主题一致性渲染。

**背景色:**
- Page: bg-background (white / black)
- Card: bg-card (white / gray-950)
- Muted: bg-muted (gray-100 / gray-800)
- Accent: bg-accent (gray-100 / gray-800)

**文本色:**
- Primary: text-foreground (#181818 / #ffffff)
- Secondary: text-muted-foreground (#666666 / #999999)
- Disabled: opacity-50

**边框色:**
- Default: border-border (gray-200 / gray-800)
- Input: border-input (gray-200 / gray-800)

### 8.9 图片与图像

#### 技术规格
| 上下文 | 分辨率 | 尺寸 |
|--------|--------|------|
| 打印 | 300 DPI | 按需 |
| 数字/Web | 72 DPI | 按需 |
| Hero图片 | — | 最小 2000px 宽 |
| 内容图片 | — | 最小 1200px 宽 |

#### 风格原则
- 真实胜过摆拍
- 清洁、专业的美学
- 首选自然光
- 与品牌一致的平衡色彩

### 8.10 UI开发检查清单

在发布任何UI之前，确保：

✅ Logo有适当的留白空间  
✅ 颜色使用CSS变量  
✅ 字体遵循类型比例  
✅ 间距使用一致的令牌（8px增量）  
✅ 支持深色模式  
✅ 正确应用语义色  
✅ 图片符合分辨率要求  
✅ 通过无障碍检查  
✅ 选择状态使用主色（紫色）  
✅ 为交互元素定义hover状态  
✅ 键盘导航的焦点状态可见  

### 8.11 参考文档

完整的UI设计规范请参考：
- **[AI-Friendly UI Design Guide](./AI-Friendly%20UI%20Design%20Guide.md)** - 完整设计系统指南
- **[Item Design System](https://design.item.com)** - 原始设计系统

---

## 九、页面布局模式

### 9.1 营销页面布局

```tsx
// Hero Section
<section className="relative bg-gradient-to-br from-primary/10 via-background to-background border-b border-border">
  <div className="container mx-auto px-6 py-24">
    <h1 className="text-6xl font-bold text-foreground mb-6">
      标题
    </h1>
    <p className="text-xl text-muted-foreground mb-8">
      副标题
    </p>
    <div className="flex gap-3">
      <Button size="lg">主要操作</Button>
      <Button size="lg" variant="outline">次要操作</Button>
    </div>
  </div>
</section>

// Content Section
<section className="container mx-auto px-6 py-12">
  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {/* 卡片内容 */}
  </div>
</section>
```

### 9.2 表单页面布局

```tsx
<section className="container mx-auto px-6 py-12">
  <div className="max-w-4xl mx-auto">
    <div className="bg-card border border-border rounded-lg p-8">
      <div className="space-y-6">
        {/* 表单字段 */}
      </div>
    </div>
  </div>
</section>
```

### 9.3 统计卡片布局

```tsx
<div className="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6">
  <div className="bg-card border border-border rounded-lg p-6 hover:shadow-lg transition-shadow">
    <div className="flex items-start justify-between mb-4">
      <div className="p-3 bg-primary/10 rounded-lg">
        <Icon className="h-6 w-6 text-primary" />
      </div>
      <span className="text-xs text-success font-medium">+12.5%</span>
    </div>
    <div className="text-sm text-muted-foreground mb-2">标签</div>
    <div className="text-3xl font-bold text-foreground">数值</div>
  </div>
</div>
```

---

## 十、性能优化

### 10.1 代码分割

- 使用动态导入 `next/dynamic`
- 路由级别代码分割
- 组件级别懒加载

### 10.2 图片优化

- 使用 `next/image` 组件
- 自动优化图片格式
- 响应式图片加载

### 10.3 字体优化

- 使用 `next/font` 加载字体
- 字体子集化
- 字体预加载

### 10.4 缓存策略

- 静态页面生成 (SSG)
- 增量静态再生成 (ISR)
- 客户端缓存

---

## 十一、开发规范

### 11.1 命名规范

- **组件**: PascalCase (如 `DataTable.tsx`)
- **函数**: camelCase (如 `handleClick`)
- **常量**: UPPER_SNAKE_CASE (如 `MAX_PAGE_SIZE`)
- **CSS类**: kebab-case (如 `data-table-header`)

### 11.2 文件组织

```
ComponentName/
├── index.tsx              # 组件主文件
├── ComponentName.tsx      # 组件实现
├── ComponentName.test.tsx # 测试文件
├── ComponentName.stories.tsx # Storybook
└── types.ts               # 类型定义
```

### 11.3 代码风格

- 使用 ESLint + Prettier
- 遵循 Airbnb JavaScript Style Guide
- TypeScript严格模式
- 组件使用函数式组件 + Hooks

### 11.4 注释规范

```typescript
/**
 * 数据表格组件
 * @param data - 表格数据
 * @param columns - 列配置
 * @param onRowClick - 行点击回调
 */
export function DataTable<T>({
  data,
  columns,
  onRowClick,
}: DataTableProps<T>) {
  // 实现
}
```

---

## 十二、测试要求

### 12.1 单元测试

- 使用 Jest + React Testing Library
- 测试覆盖率 ≥ 80%
- 关键业务逻辑必须测试

### 12.2 集成测试

- 使用 Playwright 或 Cypress
- 测试关键用户流程
- 测试跨浏览器兼容性

### 12.3 E2E测试

- 测试完整业务流程
- 测试异常情况处理
- 测试性能指标

---

## 十三、部署要求

### 13.1 构建命令

```bash
# 开发环境
npm run dev

# 生产构建
npm run build

# 启动生产服务器
npm run start

# 代码检查
npm run lint

# 类型检查
npm run type-check
```

### 13.2 环境变量

```env
# .env.local
NEXT_PUBLIC_API_URL=https://api.lso-logistics.com
NEXT_PUBLIC_CDN_URL=https://cdn.lso-logistics.com
NEXT_PUBLIC_TRACKING_API=https://tracking.lso-logistics.com
```

### 13.3 Windows开发环境

由于PowerShell执行策略限制，提供以下解决方案：

**方案1**: 使用批处理文件
```bash
# 双击 start-dev.bat 启动
.\start-dev.bat
```

**方案2**: 使用cmd
```bash
cmd
npm run dev
```

**方案3**: 修改执行策略（管理员权限）
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

### 13.4 部署平台

- **推荐**: Vercel (Next.js官方平台)
- **备选**: AWS, Azure, Google Cloud
- **自托管**: Docker + Nginx

---

## 十四、浏览器支持

### 14.1 支持的浏览器

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

### 14.2 移动端支持

- iOS Safari 14+
- Android Chrome 90+

---

## 十五、安全要求

### 15.1 前端安全

- XSS防护
- CSRF防护
- 内容安全策略 (CSP)
- HTTPS强制

### 15.2 数据安全

- 敏感数据加密
- 安全的API调用
- Token管理
- 权限控制

---

## 十六、监控与日志

### 16.1 错误监控

- 使用 Sentry 或类似工具
- 捕获运行时错误
- 记录用户操作路径

### 16.2 性能监控

- Core Web Vitals
- 页面加载时间
- API响应时间
- 资源加载时间

---

## 十七、文档要求

### 17.1 必需文档

- README.md - 项目说明
- SETUP.md - 安装配置指南
- QUICK_START.md - 快速开始指南
- API.md - API文档
- CHANGELOG.md - 更新日志

### 17.2 代码文档

- 组件文档 (JSDoc)
- API文档
- 类型定义文档
- 业务流程文档

---

## 附录

### A. 常用命令

```bash
# 安装依赖
npm install

# 开发服务器
npm run dev

# 生产构建
npm run build

# 启动生产服务器
npm start

# 代码检查
npm run lint

# 格式化代码
npm run format

# 类型检查
npm run type-check

# 运行测试
npm test

# 生成组件
npm run generate:component
```

### B. 相关资源

- [Next.js文档](https://nextjs.org/docs)
- [React文档](https://react.dev/)
- [Tailwind CSS文档](https://tailwindcss.com/docs)
- [shadcn/ui文档](https://ui.shadcn.com/)
- [TypeScript文档](https://www.typescriptlang.org/docs/)

---

## 十八、已实现功能清单

### 18.1 核心功能

✅ 双层导航系统（顶部工具栏 + 主导航）  
✅ 导航选中状态高亮  
✅ 寄件服务下拉菜单（6个子菜单）  
✅ 中英文国际化切换  
✅ 深色模式支持  
✅ 响应式布局  

### 18.2 页面实现

✅ 营销首页（Hero + 统计 + 服务 + CTA）  
✅ 服务介绍页  
✅ 货物追踪页  
✅ 立即寄件页  
✅ 账户寄件页  
✅ 预约取件页  
✅ 内部管理仪表板  

### 18.3 UI组件

✅ Button（多种尺寸和变体）  
✅ Input（标准输入框）  
✅ 统计卡片  
✅ 服务卡片  
✅ Hero Section  
✅ 下拉菜单  

### 18.4 待实现功能

⏳ 运费计算器  
⏳ 配送选项页  
⏳ 客户优惠计划页  
⏳ 网点查询（地图集成）  
⏳ 客户支持（在线客服）  
⏳ 用户认证系统  
⏳ 数据表格组件  
⏳ 高级搜索功能  

---

**文档维护**: LSO开发团队  
**最后更新**: 2025-01-30  
**系统版本**: v1.0.0
